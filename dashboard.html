<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Gods Cruiseline â€” Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <p class="site-title">Gods Cruiseline</p>
        <nav aria-label="Primary">
          <ul>
            <li><a href="system.html">System</a></li>
            <li><a href="divisions.html">Divisions</a></li>
            <li><a href="records.html">Records</a></li>
            <li><a href="projects.html">Projects</a></li>
            <li><a href="access.html">Access</a></li>
            <li><a href="dashboard.html" aria-current="page">Dashboard</a></li>
          </ul>
        </nav>
      </header>

      <main>
        <h1>Dashboard</h1>
        <p class="meta" data-dashboard-notice hidden></p>

        <!-- Tabs -->
        <div class="dashboard-tabs">
          <button type="button" class="tab-btn active" data-tab="records">Records</button>
          <button type="button" class="tab-btn" data-tab="projects">Projects</button>
        </div>

        <!-- Records Tab -->
        <div class="tab-content active" data-tab-content="records">
          <div class="dashboard-actions">
            <button type="button" data-action="create-record">New Record</button>
            <button type="button" data-action="export-records">Export JSON</button>
            <button type="button" data-action="refresh-records">Refresh</button>
          </div>

          <div class="filter-row">
            <label for="dashboard-division-filter" class="filter-label">Division</label>
            <select id="dashboard-division-filter" data-filter="division">
              <option value="">All</option>
              <option value="broadcast">Broadcast</option>
              <option value="works">Works</option>
              <option value="research">Research</option>
              <option value="narrative">Narrative</option>
              <option value="exchange">Exchange</option>
              <option value="access">Access</option>
            </select>

            <label for="dashboard-status-filter" class="filter-label">Status</label>
            <select id="dashboard-status-filter" data-filter="status">
              <option value="">All</option>
              <option value="public">Public</option>
              <option value="registered">Registered</option>
              <option value="authorized">Authorized</option>
              <option value="restricted">Restricted</option>
            </select>

            <label for="dashboard-search" class="filter-label">Search</label>
            <input type="text" id="dashboard-search" data-filter="search" placeholder="Search by ID or title..." />
          </div>

          <table class="table dashboard-table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Title</th>
                <th scope="col">Division</th>
                <th scope="col">Year</th>
                <th scope="col">Status</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody data-records-body></tbody>
          </table>

          <p class="meta" data-records-empty hidden>No records found.</p>
          <p class="meta" data-records-loading>Loading records...</p>
        </div>

        <!-- Projects Tab -->
        <div class="tab-content" data-tab-content="projects" hidden>
          <div class="dashboard-actions">
            <button type="button" data-action="create-project">New Project</button>
            <button type="button" data-action="export-projects">Export JSON</button>
            <button type="button" data-action="refresh-projects">Refresh</button>
          </div>

          <div class="filter-row">
            <label for="project-status-filter" class="filter-label">Status</label>
            <select id="project-status-filter" data-filter="project-status">
              <option value="">All</option>
              <option value="public">Public</option>
              <option value="registered">Registered</option>
              <option value="authorized">Authorized</option>
              <option value="restricted">Restricted</option>
            </select>

            <label for="project-search" class="filter-label">Search</label>
            <input type="text" id="project-search" data-filter="project-search" placeholder="Search by ID or name..." />
          </div>

          <table class="table dashboard-table">
            <thead>
              <tr>
                <th scope="col">ID</th>
                <th scope="col">Name</th>
                <th scope="col">Description</th>
                <th scope="col">Status</th>
                <th scope="col">Start</th>
                <th scope="col">Actions</th>
              </tr>
            </thead>
            <tbody data-projects-body></tbody>
          </table>

          <p class="meta" data-projects-empty hidden>No projects found.</p>
          <p class="meta" data-projects-loading hidden>Loading projects...</p>
        </div>

        <!-- Record Modal -->
        <div class="modal-overlay" data-record-modal hidden style="display: none;">
          <div class="modal">
            <div class="modal-header">
              <h2 data-record-modal-title>New Record</h2>
              <button type="button" class="modal-close" data-action="close-record-modal">&times;</button>
            </div>
            <form class="form modal-form" data-record-form>
              <p class="meta" data-record-modal-notice hidden></p>

              <div class="form-grid">
                <div>
                  <label for="modal-record-id">Record ID</label>
                  <input id="modal-record-id" name="id" type="text" placeholder="GC-R-###" required data-record-field="id" />
                </div>

                <div>
                  <label for="modal-record-title">Title</label>
                  <input id="modal-record-title" name="title" type="text" required data-record-field="title" />
                </div>

                <div>
                  <label for="modal-record-division">Division</label>
                  <select id="modal-record-division" name="division" required data-record-field="division">
                    <option value="broadcast">broadcast</option>
                    <option value="works">works</option>
                    <option value="research">research</option>
                    <option value="narrative">narrative</option>
                    <option value="exchange">exchange</option>
                    <option value="access">access</option>
                  </select>
                </div>

                <div>
                  <label for="modal-record-medium">Medium</label>
                  <select id="modal-record-medium" name="medium" required data-record-field="medium">
                    <option value="text">text</option>
                    <option value="audio">audio</option>
                    <option value="video">video</option>
                    <option value="system">system</option>
                    <option value="image">image</option>
                    <option value="dataset">dataset</option>
                    <option value="artifact">artifact</option>
                  </select>
                </div>

                <div>
                  <label for="modal-record-year">Year</label>
                  <input id="modal-record-year" name="year" type="number" required data-record-field="year" />
                </div>

                <div>
                  <label for="modal-record-status">Status</label>
                  <select id="modal-record-status" name="status" required data-record-field="status">
                    <option value="public">public</option>
                    <option value="registered">registered</option>
                    <option value="authorized">authorized</option>
                    <option value="restricted">restricted</option>
                  </select>
                </div>

                <div>
                  <label for="modal-record-author">Author</label>
                  <input id="modal-record-author" name="author" type="text" placeholder="Comma-separated" data-record-field="author" />
                </div>

                <div>
                  <label for="modal-record-origin">Origin</label>
                  <input id="modal-record-origin" name="origin" type="text" data-record-field="origin" />
                </div>

                <div>
                  <label for="modal-record-source-ref">Source Ref</label>
                  <input id="modal-record-source-ref" name="source_ref" type="text" data-record-field="source_ref" />
                </div>

                <div>
                  <label for="modal-record-date-created">Date Created</label>
                  <input id="modal-record-date-created" name="date_created" type="date" data-record-field="date_created" />
                </div>

                <div>
                  <label for="modal-record-date-published">Date Published</label>
                  <input id="modal-record-date-published" name="date_published" type="date" data-record-field="date_published" />
                </div>

                <div>
                  <label for="modal-record-tags">Tags</label>
                  <input id="modal-record-tags" name="tags" type="text" placeholder="Comma-separated" data-record-field="tags" />
                </div>

                <div>
                  <label for="modal-record-project">Projects</label>
                  <input id="modal-record-project" name="project" type="text" placeholder="Comma-separated" data-record-field="project" />
                </div>

                <div>
                  <label for="modal-record-sensitivity-level">Sensitivity Level</label>
                  <input id="modal-record-sensitivity-level" name="sensitivity_level" type="text" data-record-field="sensitivity_level" />
                </div>

                <div>
                  <label for="modal-record-archival-state">Archival State</label>
                  <select id="modal-record-archival-state" name="archival_state" data-record-field="archival_state">
                    <option value="active">active</option>
                    <option value="archived">archived</option>
                    <option value="decayed">decayed</option>
                  </select>
                </div>

                <div>
                  <label for="modal-record-archival-since">Archival Since</label>
                  <input id="modal-record-archival-since" name="archival_since" type="number" data-record-field="archival_since" />
                </div>
              </div>

              <div>
                <label for="modal-record-content">Content</label>
                <textarea id="modal-record-content" name="content" rows="4" data-record-field="content"></textarea>
              </div>

              <div>
                <label for="modal-record-sensitivity-note">Sensitivity Note</label>
                <textarea id="modal-record-sensitivity-note" name="sensitivity_note" rows="2" data-record-field="sensitivity_note"></textarea>
              </div>

              <div>
                <label for="modal-record-archival-note">Archival Note</label>
                <textarea id="modal-record-archival-note" name="archival_note" rows="2" data-record-field="archival_note"></textarea>
              </div>

              <div>
                <label for="modal-record-context">Context / Notes</label>
                <textarea id="modal-record-context" name="context" rows="3" data-record-field="context"></textarea>
              </div>

              <div class="form-actions">
                <button type="submit">Save Record</button>
                <button type="button" data-action="close-record-modal">Cancel</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Project Modal -->
        <div class="modal-overlay" data-project-modal hidden style="display: none;">
          <div class="modal">
            <div class="modal-header">
              <h2 data-project-modal-title>New Project</h2>
              <button type="button" class="modal-close" data-action="close-project-modal">&times;</button>
            </div>
            <form class="form modal-form" data-project-form>
              <p class="meta" data-project-modal-notice hidden></p>

              <div class="form-grid">
                <div>
                  <label for="modal-project-id">Project ID</label>
                  <input id="modal-project-id" name="id" type="text" placeholder="project-slug" required data-project-field="id" />
                </div>

                <div>
                  <label for="modal-project-name">Name</label>
                  <input id="modal-project-name" name="name" type="text" required data-project-field="name" />
                </div>

                <div>
                  <label for="modal-project-status">Status</label>
                  <select id="modal-project-status" name="status" required data-project-field="status">
                    <option value="public">public</option>
                    <option value="registered">registered</option>
                    <option value="authorized">authorized</option>
                    <option value="restricted">restricted</option>
                  </select>
                </div>

                <div>
                  <label for="modal-project-lead">Lead</label>
                  <input id="modal-project-lead" name="lead" type="text" data-project-field="lead" />
                </div>

                <div>
                  <label for="modal-project-start-year">Start Year</label>
                  <input id="modal-project-start-year" name="start_year" type="number" data-project-field="start_year" />
                </div>

                <div>
                  <label for="modal-project-end-year">End Year</label>
                  <input id="modal-project-end-year" name="end_year" type="number" data-project-field="end_year" />
                </div>
              </div>

              <div>
                <label for="modal-project-description">Description</label>
                <textarea id="modal-project-description" name="description" rows="3" data-project-field="description"></textarea>
              </div>

              <div>
                <label for="modal-project-scope">Scope</label>
                <textarea id="modal-project-scope" name="scope" rows="3" data-project-field="scope"></textarea>
              </div>

              <div class="form-actions">
                <button type="submit">Save Project</button>
                <button type="button" data-action="close-project-modal">Cancel</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Publish to Records Modal -->
        <div class="modal-overlay" data-publish-modal hidden style="display: none;">
          <div class="modal">
            <div class="modal-header">
              <h2>Publish to Records</h2>
              <button type="button" class="modal-close" data-action="close-publish-modal">&times;</button>
            </div>
            <form class="form modal-form" data-publish-form>
              <p class="meta">Create a record from project: <strong data-publish-project-name></strong></p>
              <p class="meta" data-publish-modal-notice hidden></p>

              <div class="form-grid">
                <div>
                  <label for="publish-record-id">Record ID</label>
                  <input id="publish-record-id" name="id" type="text" placeholder="GC-R-###" required data-publish-field="id" />
                </div>

                <div>
                  <label for="publish-record-title">Title</label>
                  <input id="publish-record-title" name="title" type="text" required data-publish-field="title" />
                </div>

                <div>
                  <label for="publish-record-division">Division</label>
                  <select id="publish-record-division" name="division" required data-publish-field="division">
                    <option value="broadcast">broadcast</option>
                    <option value="works">works</option>
                    <option value="research">research</option>
                    <option value="narrative">narrative</option>
                    <option value="exchange">exchange</option>
                    <option value="access">access</option>
                  </select>
                </div>

                <div>
                  <label for="publish-record-medium">Medium</label>
                  <select id="publish-record-medium" name="medium" required data-publish-field="medium">
                    <option value="text">text</option>
                    <option value="audio">audio</option>
                    <option value="video">video</option>
                    <option value="system">system</option>
                    <option value="image">image</option>
                    <option value="dataset">dataset</option>
                    <option value="artifact">artifact</option>
                  </select>
                </div>

                <div>
                  <label for="publish-record-year">Year</label>
                  <input id="publish-record-year" name="year" type="number" required data-publish-field="year" />
                </div>

                <div>
                  <label for="publish-record-status">Status</label>
                  <select id="publish-record-status" name="status" required data-publish-field="status">
                    <option value="public">public</option>
                    <option value="registered">registered</option>
                    <option value="authorized">authorized</option>
                    <option value="restricted">restricted</option>
                  </select>
                </div>
              </div>

              <div>
                <label for="publish-record-content">Content</label>
                <textarea id="publish-record-content" name="content" rows="4" data-publish-field="content"></textarea>
              </div>

              <input type="hidden" data-publish-field="project" />

              <div class="form-actions">
                <button type="submit">Publish Record</button>
                <button type="button" data-action="close-publish-modal">Cancel</button>
              </div>
            </form>
          </div>
        </div>

        <!-- Delete confirmation modal -->
        <div class="modal-overlay" data-delete-modal hidden style="display: none;">
          <div class="modal modal-sm">
            <div class="modal-header">
              <h2>Confirm Delete</h2>
              <button type="button" class="modal-close" data-action="close-delete-modal">&times;</button>
            </div>
            <div class="modal-body">
              <p>Delete <strong data-delete-id></strong>?</p>
              <p class="meta">This action cannot be undone.</p>
            </div>
            <div class="form-actions">
              <button type="button" data-action="confirm-delete">Delete</button>
              <button type="button" data-action="close-delete-modal">Cancel</button>
            </div>
          </div>
        </div>
      </main>

      <footer>
        <div class="footer-grid">
          <span>Gods Cruiseline Informatics</span>
          <span>Cycle <span data-year>2026</span></span>
          <span>Dashboard: GC-DASH-01</span>
        </div>
      </footer>
    </div>

    <script type="module" src="dashboard.js"></script>
  </body>
</html>
